<html>
  <head>

    <title>My A-Frame Scene</title>

    <script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/v2.1.1/dist/aframe-extras.loaders.min.js"></script>

    <!-- // <script src"../../aframe-daydream-controller-component/examples/build.js"></script> -->

    <script src="https://rawgit.com/chenzlabs/auto-detect-controllers/master/dist/aframe-auto-detect-controllers-component.min.js"></script>
    <script src="https://rawgit.com/chenzlabs/gearvr-controls/master/dist/aframe-gearvr-controls-component.min.js"></script>


  </head>


  <body>

    <a-scene>
      

      <a-assets>
        <a-asset-item id="woman" src="../assets/voxelwoman.bake.ply"></a-asset-item>
        <a-asset-item id="supremecourtnowalls" src="../assets/supremecourtnowalls.bake.ply"></a-asset-item>
        <a-asset-item id="timeline" src="../assets/timelineframe.bake.ply"></a-asset-item>
        <a-asset-item id="judge" src="../assets/voxeljudge.bake.ply"></a-asset-item>
        <a-asset-item id="woman2" src="../assets/voxelwoman2.bake.ply"></a-asset-item>
        <a-asset-item id="seneca" src="../assets/senecafalls.bake.ply"></a-asset-item>

        <a-asset-item id="_1852" src="../assets/1852.bake.ply"></a-asset-item>
        <a-asset-item id="_1920" src="../assets/1920.bake.ply"></a-asset-item>
        <a-asset-item id="_1922" src="../assets/1922.bake.ply"></a-asset-item>
        <a-asset-item id="_1960" src="../assets/1960.bake.ply"></a-asset-item>
        <a-asset-item id="_1972" src="../assets/1972.bake.ply"></a-asset-item>
        <a-asset-item id="_1973" src="../assets/1973.bake.ply"></a-asset-item>
        <a-asset-item id="_1991" src="../assets/1991.bake.ply"></a-asset-item>
        <a-asset-item id="_2017" src="../assets/2017.bake.ply"></a-asset-item>

      </a-assets>

      <!--       <a-entity id="lefthand" auto-detect-controllers="singlehand"></a-entity> -->      
      <a-entity tracked-controls="id: Daydream Controller"></a-entity>

      <a-sky color="#dcedec"></a-sky>

      <!-- SUPREME COURT -->
      <a-entity id="supremecourtscene" visible="true">
        <a-animation begin="makeSceneVisible"  dur="0" to="false" repeat="indefinite"></a-animation>


        <a-entity ply-model="src: #woman" rotation="-90 -60 0" scale="0.35 0.35 0.35" position="8 1 0"></a-entity>
        <a-entity ply-model="src: #woman2" rotation="-90 -90 0" scale="0.35 0.35 0.35" position="11 1 5"></a-entity>
        <a-entity ply-model="src: #judge" rotation="-90 80 0" scale="0.35 0.35 0.35" position="-9 3 5"></a-entity>
        <a-entity ply-model="src: #supremecourtnowalls" rotation="-90 0 0" scale="0.6 0.6 0.6" position="5 0 0"></a-entity>
      </a-entity>


      <!-- SENECA FALLS -->
      <a-entity id="seneca" visible="false">

        <a-animation begin="makeSceneVisible"  dur="0" to="false" repeat="indefinite"></a-animation>


        <a-entity ply-model="src: #woman" rotation="-90 -60 0" scale="0.35 0.35 0.35" position="8 1 0"></a-entity>
        <a-entity ply-model="src: #woman2" rotation="-90 -90 0" scale="0.35 0.35 0.35" position="11 1 5"></a-entity>

        <a-entity ply-model="src: #seneca" rotation="-90 -60 0" scale="0.6 0.6 0.6" position="8 1 0"></a-entity>

      </a-entity>


      <!-- TIMELINE -->
      <a-entity id="timeline-complete">
        <a-animation begin="makeSceneVisible" attribute="visible" dur="0" to="false" repeat="indefinite"></a-animation>

        <a-entity id="timeline" ply-model="src: #timeline" rotation="-90 0 0" scale="0.6 0.6 0.6" position="5 15 0"></a-entity>
        <a-entity ply-model="src: #_1852" rotation="-90 -95 0" scale="0.6 0.6 0.6" position="-5 12 0"></a-entity>
        <a-entity ply-model="src: #_1920" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="-5 12 7"></a-entity>
        <a-entity ply-model="src: #_1922" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="3 12 5"></a-entity>
        <a-entity ply-model="src: #_1960" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="12 12 5"></a-entity>
        <a-entity ply-model="src: #_1972" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="12 14 0"></a-entity>
        <a-entity ply-model="src: #_1973" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="12 14 0"></a-entity>
        <a-entity ply-model="src: #_1991" rotation="-90 -90 0" scale="0.6 0.6 0.6" position="5 12 0"></a-entity>
        <a-entity ply-model="src: #_2017" rotation="-90 -85 0" scale="0.6 0.6 0.6" position="3 12 0"></a-entity>

      </a-entity>
      
      <!-- EVERYTHING ELSE -->

        <a-entity camera="userHeight: 1.3" look-controls position="3 6 14">
        <a-cursor id="cursor"
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__1="_event: mouseenter; color: springgreen"
          event-set__2="_event: mouseleave; color: black"
          raycaster="objects: .link"></a-cursor>
      </a-entity>



      <script>
        var scene = document.querySelector('a-scene');

        var timeline = document.querySelector("#timeline-complete");
        var seneca = document.querySelector("#seneca");
        var sup_scene = document.querySelector("#supremecourtscene");

        //timeline.emit('click', {scene: supremecourt} , false);

        scene.addEventListener('click', function() {
          if (sup_scene.getAttribute("visible") == false) {
            sup_scene.setAttribute("visible", "true");
            seneca.setAttribute("visible", "false");

          }
          else {
            sup_scene.setAttribute("visible", "false");
            seneca.setAttribute("visible", "true");
          };

        });
        
        function makeSceneVisible() {

            console.log("hello world");

             //scene.setAttribute("visible", "false");
            // scene2.setAttribute("visible", "false");

        }

      </script>

    </a-scene>

  </body>

</html>